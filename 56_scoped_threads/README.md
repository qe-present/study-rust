# ä½œç”¨åŸŸçº¿ç¨‹ Scoped Threads
- å®šä¹‰ï¼šä½¿ç”¨`std::thread::scope`åˆ›å»ºçš„çº¿ç¨‹ï¼Œç”Ÿå‘½å‘¨æœŸå—é™ä¸ç‰¹å®šä½œç”¨åŸŸ
- ç‰¹æ€§ï¼šçº¿ç¨‹åœ¨ä½œç”¨åŸŸç»“æŸå‰å¿…é¡»ç»ˆæ­¢ï¼Œæ— éœ€æ‰‹åŠ¨ç®¡ç†joinHandle
# è§£é‡Šä»£ç 
```rust
    let a = String::from("hello");
    thread::scope(|s| {
        let b = String::from("hello");
        for i in 0..5 {
            s.spawn(|| {
                thread::sleep(Duration::from_secs(1));
                println!("thread #{}", b);
            });
        }
    })
```
aå¯ä»¥æ‰“å°ï¼Œå› ä¸ºaçš„ç”Ÿå‘½å‘¨æœŸé•¿ï¼Œå¯ä»¥å¼•ç”¨
bä¸è¡Œï¼Œå› ä¸ºbçš„ç”Ÿå‘½å‘¨æœŸæ¯”çº¿ç¨‹çŸ­ï¼Œä¸å¯ä»¥å¼•ç”¨
å› æ­¤ï¼Œè¦ä½¿ç”¨bå°±è¦è½¬ç§»æ‰€æœ‰æƒã€‚
# into_iterå’Œiterçš„åŒºåˆ«
`into_iter` å’Œ `iter` æ˜¯ Rust ä¸­è¿­ä»£å™¨çš„ä¸¤ç§é‡è¦æ–¹æ³•ï¼Œå®ƒä»¬çš„ä¸»è¦åŒºåˆ«åœ¨äº**æ‰€æœ‰æƒ**çš„å¤„ç†æ–¹å¼ï¼š

## ğŸ”„ `iter()` - å€Ÿç”¨è¿­ä»£
```rust
let vec = vec![1, 2, 3];
for item in vec.iter() {  // æˆ–è€… &vec
    // item æ˜¯ &i32 ç±»å‹ï¼ˆå¼•ç”¨ï¼‰
    println!("{}", item);
}
// vec ä»ç„¶å¯ç”¨ï¼Œæ‰€æœ‰æƒæ²¡æœ‰è¢«è½¬ç§»
println!("vec: {:?}", vec);  // âœ… å¯ä»¥ç»§ç»­ä½¿ç”¨
```

**ç‰¹ç‚¹ï¼š**
- äº§ç”Ÿå…ƒç´ çš„ä¸å¯å˜å¼•ç”¨ `&T`
- ä¸æ¶ˆè€—åŸå§‹é›†åˆ
- åŸå§‹æ•°æ®åœ¨è¿­ä»£åä»ç„¶å¯ç”¨

## â¡ï¸ `into_iter()` - æ‰€æœ‰æƒè½¬ç§»è¿­ä»£
```rust
let vec = vec![1, 2, 3];
for item in vec.into_iter() {
    // item æ˜¯ i32 ç±»å‹ï¼ˆå€¼ï¼‰
    println!("{}", item);
}
// vec ä¸å†å¯ç”¨ï¼Œæ‰€æœ‰æƒå·²è¢«è½¬ç§»
// println!("vec: {:?}", vec);  // âŒ ç¼–è¯‘é”™è¯¯
```

**ç‰¹ç‚¹ï¼š**
- æ¶ˆè€—åŸå§‹é›†åˆï¼Œè·å–å…ƒç´ çš„æ‰€æœ‰æƒ
- äº§ç”Ÿå…ƒç´ çš„å€¼ `T`
- åŸå§‹æ•°æ®åœ¨è¿­ä»£åä¸å†å¯ç”¨

## ğŸ“Š å¯¹æ¯”è¡¨æ ¼

| ç‰¹æ€§ | `iter()` | `into_iter()` |
|------|----------|---------------|
| **æ‰€æœ‰æƒ** | å€Ÿç”¨ | è½¬ç§» |
| **è¿”å›ç±»å‹** | `&T` | `T` |
| **æ¶ˆè€—é›†åˆ** | å¦ | æ˜¯ |
| **åç»­ä½¿ç”¨** | å¯ä»¥ç»§ç»­ä½¿ç”¨ | ä¸èƒ½å†ä½¿ç”¨ |
| **å¸¸ç”¨åœºæ™¯** | åªè¯»éå† | è½¬æ¢æˆ–æ¶ˆè€—æ•°æ® |

## ğŸ¯ ä½¿ç”¨åœºæ™¯ç¤ºä¾‹

### ä½¿ç”¨ `iter()`ï¼ˆåªè¯»è®¿é—®ï¼‰ï¼š
```rust
let numbers = vec![1, 2, 3, 4, 5];

// è®¡ç®—æ€»å’Œè€Œä¸æ¶ˆè€—æ•°æ®
let sum: i32 = numbers.iter().sum();
println!("Sum: {}, original: {:?}", sum, numbers);  // âœ… ä»ç„¶å¯ç”¨

// æŸ¥æ‰¾å…ƒç´ 
if numbers.iter().any(|&x| x == 3) {
    println!("Found 3!");
}
```

### ä½¿ç”¨ `into_iter()`ï¼ˆæ¶ˆè€—æ•°æ®ï¼‰ï¼š
```rust
let numbers = vec![1, 2, 3, 4, 5];

// è½¬æ¢æ•°æ®å¹¶è·å–æ‰€æœ‰æƒ
let doubled: Vec<i32> = numbers.into_iter().map(|x| x * 2).collect();
// numbers ä¸å†å¯ç”¨ï¼Œä½† doubled æ˜¯æ–°é›†åˆ
println!("Doubled: {:?}", doubled);

// æˆ–è€…ç›´æ¥æ¶ˆè€—
let strings = vec!["hello".to_string(), "world".to_string()];
for s in strings.into_iter() {
    println!("{}", s);  // è·å–æ¯ä¸ª String çš„æ‰€æœ‰æƒ
}
// strings ä¸å†å¯ç”¨
```

## ğŸ”„ éšå¼è½¬æ¢

åœ¨ `for` å¾ªç¯ä¸­ï¼ŒRust ä¼šè‡ªåŠ¨é€‰æ‹©åˆé€‚çš„æ–¹æ³•ï¼š
```rust
let vec = vec![1, 2, 3];

// ç­‰ä»·äº vec.iter()
for item in &vec {  // å€Ÿç”¨
    println!("{}", item);
}

// ç­‰ä»·äº vec.into_iter()  
for item in vec {   // ç§»åŠ¨
    println!("{}", item);
}
```

## ğŸ’¡ è®°å¿†æŠ€å·§
- `iter()` â†’ æˆ‘æƒ³**çœ‹**æ•°æ®
- `into_iter()` â†’ æˆ‘æƒ³**æ‹¿**æ•°æ®

é€‰æ‹©å“ªä¸ªå–å†³äºä½ æ˜¯å¦è¿˜éœ€è¦åœ¨è¿­ä»£åä½¿ç”¨åŸå§‹é›†åˆã€‚